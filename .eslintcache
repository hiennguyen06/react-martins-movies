[{"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/App.js":"1","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/MovieList.js":"2","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/MovieCard.js":"3","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/Navbar.js":"4","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/index.js":"5","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/MovieDetail.js":"6","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/Header.js":"7","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/Footer.js":"8","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/WatchList.js":"9"},{"size":3863,"mtime":1612395872189,"results":"10","hashOfConfig":"11"},{"size":917,"mtime":1612354450376,"results":"12","hashOfConfig":"11"},{"size":1474,"mtime":1612355848387,"results":"13","hashOfConfig":"11"},{"size":1229,"mtime":1612354784398,"results":"14","hashOfConfig":"11"},{"size":442,"mtime":1612157033768,"results":"15","hashOfConfig":"11"},{"size":2581,"mtime":1612396056224,"results":"16","hashOfConfig":"11"},{"size":324,"mtime":1612264311724,"results":"17","hashOfConfig":"11"},{"size":1724,"mtime":1612272369727,"results":"18","hashOfConfig":"11"},{"size":1441,"mtime":1612394635344,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},"1hd0581",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/App.js",["42"],"import \"./css/main.scss\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport MovieList from \"./components/MovieList\";\nimport MovieDetail from \"./components/MovieDetail\";\nimport Navbar from \"./components/Navbar\";\nimport WatchList from \"./components/WatchList\";\n\nimport { FaSearch } from \"react-icons/fa\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n    return (\n        <Router>\n            <div className=\"App\">\n                <Navbar />\n                <Switch>\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/:id\" component={MovieDetail} />\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nconst Home = () => {\n    const [movies, setMovies] = useState([]);\n    const [search, setSearch] = useState(\"\");\n    const [query, setQuery] = useState(\"Avenger\");\n    const [watched, setWatched] = useState([]);\n\n    useEffect(() => {\n        const storage = JSON.parse(localStorage.getItem(\"watchlist\"));\n        if (storage) {\n            setWatched(storage);\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem(\"watchlist\", JSON.stringify(watched));\n    }, [watched]);\n\n    useEffect(() => {\n        getMovies();\n    }, [query]);\n\n    const getMovies = async () => {\n        try {\n            const res = await axios(\n                `https://api.themoviedb.org/3/search/movie?`,\n                {\n                    params: {\n                        api_key: \"1e448e0dfcdbb565f5d329820065b4d2\",\n                        query: query,\n                    },\n                }\n            );\n            const data = res.data.results;\n\n            setMovies(\n                data.map((result) => {\n                    return {\n                        id: result.id,\n                        title: result.title,\n                        description: result.overview,\n                        poster: `https://image.tmdb.org/t/p/w780${result.poster_path}`,\n                        rating: result.vote_average,\n                        release_date: result.release_date,\n                        watched: false,\n                    };\n                })\n            );\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const handleSearch = (e) => {\n        setSearch(e.target.value);\n    };\n\n    const handleInput = (e) => {\n        e.preventDefault();\n        setQuery(search);\n        setSearch(\"\");\n    };\n\n    const removeWatched = (movie) => {\n        const newWatchedList = watched.filter((item) => item.id !== movie.id);\n        setWatched(newWatchedList);\n    };\n\n    return (\n        <div>\n            <Header />\n            <div className=\"form-container\">\n                <form className=\"search\" onSubmit={handleInput}>\n                    <FaSearch className=\"icon-search\" />\n                    <input\n                        className=\"search-field\"\n                        placeholder=\"Search movie and press enter\"\n                        onChange={handleSearch}\n                        type=\"text\"\n                        value={search}\n                    />\n                </form>\n                <div className=\"search-result\">\n                    <p>Showing results for</p>\n                    <h1>\"{query}\"</h1>\n                </div>\n            </div>\n            <WatchList\n                watched={watched}\n                setWatched={setWatched}\n                removeWatched={removeWatched}\n            />\n            <MovieList\n                watched={watched}\n                movies={movies}\n                setMovies={setMovies}\n                setWatched={setWatched}\n            />\n            <Footer />\n        </div>\n    );\n};\n\nexport default App;\n",["43","44"],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/MovieList.js",[],["45","46"],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/MovieCard.js",[],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/Navbar.js",[],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/index.js",[],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/MovieDetail.js",["47"],"import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Item({ match }) {\n    useEffect(() => {\n        getMovieDetail();\n    }, []);\n\n    // create a state to put the items in\n    const [movieDetail, setMovieDetail] = useState([]);\n\n    const getMovieDetail = async () => {\n        const data = await fetch(\n            `https://api.themoviedb.org/3/movie/${match.params.id}?api_key=1e448e0dfcdbb565f5d329820065b4d2&language=en-US`\n        );\n        const movie = await data.json();\n        setMovieDetail({\n            id: movie.id,\n            imdb_id: movie.imdb_id,\n            title: movie.title,\n            description: movie.overview,\n            genre: movie.genres.map((genre) => genre.name).join(\" / \"),\n            year: movie.release_date.substring(0, 4),\n            poster: `https://image.tmdb.org/t/p/w780${movie.poster_path}`,\n            status: movie.status,\n            rating: movie.vote_average,\n        });\n    };\n\n    const poster =\n        movieDetail.poster === \"https://image.tmdb.org/t/p/w780null\"\n            ? \"https://hn-photos.s3-ap-southeast-2.amazonaws.com/poster.png\"\n            : movieDetail.poster;\n\n    return (\n        <div className=\"movie-detail\">\n            <div className=\"poster\">\n                <img src={poster} alt=\"movie poster\" />\n            </div>\n            <div className=\"movie-detail-info\">\n                <h1>{movieDetail.title}</h1>\n                <h3>Storyline</h3>\n                <p className=\"break\">{movieDetail.description}</p>\n                <h3>Detail</h3>\n                <p>\n                    <span>IMDB Rating: </span>\n                    {movieDetail.rating}\n                </p>\n                <p>\n                    <span>Genre: </span>\n                    {movieDetail.genre}\n                </p>\n                <p>\n                    <span>Year: </span>\n                    {movieDetail.year}\n                </p>\n                <p className=\"break\">\n                    <span>Status: </span>\n                    {movieDetail.status}\n                </p>\n                <a\n                    href={`https://www.imdb.com/title/${movieDetail.imdb_id}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"btn-main movie-detail-btn\"\n                >\n                    READ MORE\n                </a>\n                <Link to=\"/\" className=\"btn-main movie-detail-btn\">\n                    BACK TO SEARCH\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Item;\n","/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/Header.js",[],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/Footer.js",[],"/Users/hiennguyen/code/hiennguyen06/react-martins-movies/src/components/WatchList.js",[],{"ruleId":"48","severity":1,"message":"49","line":49,"column":8,"nodeType":"50","endLine":49,"endColumn":15,"suggestions":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"52","replacedBy":"56"},{"ruleId":"54","replacedBy":"57"},{"ruleId":"48","severity":1,"message":"58","line":7,"column":8,"nodeType":"50","endLine":7,"endColumn":10,"suggestions":"59"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getMovies'. Either include it or remove the dependency array.","ArrayExpression",["60"],"no-native-reassign",["61"],"no-negated-in-lhs",["62"],["61"],["62"],"React Hook useEffect has a missing dependency: 'getMovieDetail'. Either include it or remove the dependency array.",["63"],{"desc":"64","fix":"65"},"no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},"Update the dependencies array to be: [getMovies, query]",{"range":"68","text":"69"},"Update the dependencies array to be: [getMovieDetail]",{"range":"70","text":"71"},[1380,1387],"[getMovies, query]",[176,178],"[getMovieDetail]"]